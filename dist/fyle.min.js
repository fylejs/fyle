/**
 * @license
 * fyle 0.0.1 https://github.com/fylejs/fyle/blob/master/LICENSE
 */
var fyle=function(){"use strict";var e=function(e){return e.split("/")},r=function(e){return e.reduce(function(r,t,i){return".."!=t&&".."!=e[i+1]&&r.push(t),r},[])},t=function(t){var i=/(.*?)(?:\..*)?$/,n=e(t),l=r(n),u=l.length-1;l[u]=l[u].match(i)[1];var a=l[u],f=l.slice(0,-1);return{filePath:l.join("/"),fileName:a,pathArr:f,path:f.length>0?f.join("/")+"/":""}},i={},n={},l=[],u=[],a=function(e){return function(r,n){var u=t(e+r);if(!i[u.filePath])return l[l.length-1].requiredFiles.push(u.filePath),window;if(n&&0!==n.length){var a=Object.create(null);return n.forEach(function(e){a[e]=i[u.filePath][e]}),a}return i[u.filePath]}},f=function(){var e=!1,r=l[l.length-1];if(r&&r.requiredFiles.length>0){r.waiting=!0;for(var t=u.push(r)-1,i=0;i<r.requiredFiles.length;i++){var a=r.requiredFiles[i];n[a]||(n[a]=[]),n[a].push(t)}e=!0}return e},h=function(e,r){return n[r]&&n[r].forEach(function(r){var t=e[r];if(null!==t){for(var n=!0,l=0;l<t.requiredFiles.length;l++)if(!i[t.requiredFiles[l]]){n=!1;break}n&&(t.fileFn(),e[r]=null,e=h(e,t.filePath))}}),e},c=function(e){e=e||"";var r=function(r,n){var f=t(e+r);if(null!=i[f.filePath])return!1;i[f.filePath]=Object.create(null);var o=function(){i[f.filePath].return=n.call(null,i[f.filePath],a(f.path),c(f.path))};l.push({fileFn:o,filePath:f.filePath,requiredFiles:[],waiting:!1}),o();var s=l[l.length-1].waiting;return l=l.slice(0,-1),s||(u=h(u,f.filePath)),i[f.filePath]};return r.require=a(e),r.wait=f,r};return c()}();